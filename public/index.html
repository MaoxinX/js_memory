<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Security-Policy" content="
    default-src * data: blob: ws: wss: gap://ready file://*;
    style-src * 'unsafe-inline'; 
    script-src * 'unsafe-inline' 'unsafe-eval';
    connect-src * ws: wss:;" />
    <title>Memory recalling Experiment</title>

    <link rel="stylesheet" href="/static/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="/static/style.css" type="text/css" />

    <!-- update the version number as needed -->
    <script src="/__/firebase/6.6.1/firebase-app.js"></script>
    <!-- include only the Firebase features as you need -->
    <script src="/__/firebase/6.6.1/firebase-auth.js"></script>
    <script src="/__/firebase/6.6.1/firebase-database.js"></script>
    <script src="/__/firebase/6.6.1/firebase-firestore.js"></script>
    <script src="/__/firebase/6.6.1/firebase-messaging.js"></script>
    <script src="/__/firebase/6.6.1/firebase-storage.js"></script>
    <!-- initialize the SDK after all desired features are loaded -->
    <script src="/__/firebase/init.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/9.4.4/math.min.js"></script>

     <!-- Consent Page-->
    <div id="container-consent">
      <div id="consent">
          <h1><b><u>Welcome</u></b></h1>
          <h2>but we need your consent... </h2> 
          <hr />
          <div class="legal well">
              <p> 
              We would like to invite you the take part in the following study named "Memory Recalling Experiment".
              </p>
              <p>
                <br>This will take approximately 30-40 minutes, and you can earn up to $12 as a participation fee. <strong>The amount you receive will depend on your performance.</strong><br><br>
                Please understand that we <em>reserve the right to not compensate entries</em> that fail to follow instructions during reaches.
                <br>  
              </p>
              <div id="consentForm">
                  <!-- **TODO** Replace the consent form with your own consent form -->
                  <iframe frameborder="1" id="consentForm" src="https://docs.google.com/document/d/1mGaDVCSqrze2WYKNxCmf8wjhhwYjHTh9/preview"></iframe>
              </div>
              <button type="button" class="btn btn-default btn-sm" onClick="window.print();">
              <span class="glyphicon glyphicon-print"></span> Print a copy of this
              </button>
          </div>
          <hr />
          <h4>If you agree and consent to these terms, please click "I Agree" to continue. Otherwise, please exit the page and return this HIT.</h4>
          <br />
          <center>
              <button type="button" class="btn btn-danger btn-lg" onClick="return show('final-page', 'container-consent');">
              <span class="glyphicon glyphicon-ban-circle"></span> I do <u><b>NOT</b></u> consent to these terms.
              </button>
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
              <button type="button" class="btn btn-primary btn-lg" onClick="return show('container-instructions1', 'container-consent');">
              <span class="glyphicon glyphicon-ok"></span> I Agree 
              </button>
          </center>
      </div>
    </div>
     
    <!-- Instruction-->
    <div id="container-instructions1" style="display:none; padding: 50px">
        <h1>Online Experiment: Welcome to the Memory Recalling task!</h1>
        <hr>
      <div class="instructions well">
            <p> 
                If you are not using Google Chrome, please reopen the link in Chrome.
            </p>
            <p>
                <br>Your voice will be recorded in this task. When prompted, please give the browser permission to record. 
                Please ensure you are in a quiet environment and speak clearly. 
            </p>
            <p>
                <br>Click "Next" to see the instructions in the next page.
            </p>
        </div>
        <hr>
        <center>
              <button type="button" class="btn btn-primary btn-lg" onClick="return show('container-consent', 'container-instructions1');">
              <span class="glyphicon glyphicon-arrow-left"></span> Back 
              </button>
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
              <button type="button" class="btn btn-primary btn-lg" onClick="return show('container-instructions2', 'container-instructions1');">
              <span class="glyphicon glyphicon-arrow-right"></span> Next
              </button>
          </center>
      </div>

      <div id="container-instructions2" style="display:none; padding: 50px">
        <h1>The Overall Goal</h1>
        <hr>
      <div class="instructions well">
            <p>
                In this study, we will test your ability to recall words based on different prompts. 
            </p>
            <p>
                <br>On each trial, you will see a word or phrase prompt indicating a category. 
            </p>
            <p>
                <br>As soon as you see the category prompt, you should immediately begin naming words belonging to the category. 
            </p>

            <p>
                <br>You will be scored on each category based on the number of words you recall. What's more, you have the flexibility to decide how long to spend on each category.
            </p>

            <p>
                <br>The entire task will take a total of <strong>30 minutes</strong>. 
            </p>

            <p>
                <br><strong>Your goal is to name as many words as possible within the 30-minute time frame.</strong>
            </p>
        </div>
        <hr>
        <center>
              <button type="button" class="btn btn-primary btn-lg" onClick="return show('container-instructions1', 'container-instructions2');">
              <span class="glyphicon glyphicon-arrow-left"></span> Back 
              </button>
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
              <button type="button" class="btn btn-primary btn-lg" onClick="return show('container-instructions3', 'container-instructions2');">
              <span class="glyphicon glyphicon-arrow-right"></span> Next
              </button>
          </center>
      </div>
    

        <div id="container-instructions3" style="display:none; padding: 50px">
            <h1>Scoring and how to move to a next category</h1>
            <hr>
        <div class="instructions well">            
            <p>
                If you feel confident about doing better in a new category, you can choose to move on. But keep in mind that there will be a time penalty when you switch to a new category.
            </p>
            <p>
                <br>You will earn a point for each unique item you recall for each category; repetitions will not be counted. Your score will be displayed in real-time on the screen.
            </p>
            <p>
                <br>To move on to a new category, press the “<span style="color: red;">Enter</span>” key.
            </p>
            <p>
                <br><strong>Remember, your goal is to maximize your score in the 30 minutes.</strong>
            </p>
        </div>
        <hr>
        <center>
              <button type="button" class="btn btn-primary btn-lg" onClick="return show('container-instructions2', 'container-instructions3');">
              <span class="glyphicon glyphicon-arrow-left"></span> Back 
              </button>
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
              <button type="button" class="btn btn-primary btn-lg" onClick="return show('container-instructions3_2', 'container-instructions3');">
              <span class="glyphicon glyphicon-arrow-right"></span> Next
              </button>
          </center>

      </div>
      <div id="container-instructions3_2" style="display:none; padding: 50px">
        <h1>Example Screenshot of the Main Recalling Test</h1>
        <hr>
    <div class="instructions well">    
        <p>
            Below is a screenshot of the main test. This example is provided to help you better understand the test structure.
        </p>

        <p>
            <br>1. The <strong>category</strong> and your <strong>score</strong> for that category will appear in the center.
        </p>

        <p>
            <br>2. Your <strong>total score</strong> and <strong>the remaining time</strong> will be shown in the top right corner.
        </p>

        <p>
            <br>3. A prompt at the bottom will instruct you to press the <strong>“Enter”</strong> key when you are ready to move to the next category.
        </p>
        <br>
        <div>
            <center>
                <img src="images/point.png" alt="Instruction Image" style="width:60%">
            </center>
        </div>
    </div>
    <hr>
    <center>
          <button type="button" class="btn btn-primary btn-lg" onClick="return show('container-instructions3', 'container-instructions3_2');">
          <span class="glyphicon glyphicon-arrow-left"></span> Back 
          </button>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          <button type="button" class="btn btn-primary btn-lg" onClick="return show('container-instructions4', 'container-instructions3_2');">
          <span class="glyphicon glyphicon-arrow-right"></span> Next
          </button>
      </center>
    </div>


    <div id="container-instructions4" style="display:none; padding: 50px">
        <h1>Earnings Summary</h1>
        <hr>
    <div class="instructions well">     
        <p>
            Your participation fee will be determined by your performance. After you choose to move on to a new category, you will briefly see an update showing your total earnings.
        <p>
        <br>
            Below is an example screenshot of the earnings summary screen.
        </p>
        <br>
        <div>
            <center>
                <img src="images/money.png" alt="Instruction Image" style="width:60%">
            </center>
        </div>
    </div>
    <hr>
    <center>
          <button type="button" class="btn btn-primary btn-lg" onClick="return show('container-instructions3_2', 'container-instructions4');">
          <span class="glyphicon glyphicon-arrow-left"></span> Back 
          </button>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          <button type="button" class="btn btn-primary btn-lg" onClick="return show('container-instructions5', 'container-instructions4');">
          <span class="glyphicon glyphicon-arrow-right"></span> Next
          </button>
      </center>
  </div>

      <div id="container-instructions5" style="display:none; padding: 50px">
        <h1>The Time Delay</h1>
        <hr>
        <div class="instructions well">      
            <p>
                After the earnings summary, you will face a "Time Delay” before you can begin recalling words again.
            </p>
            <p>
                <br>During this delay, you will not have the opportunity to add to your score by recalling words.
            </p>
            <p>
                <br>Please refrain from using your phone,engaging in other activities, or speaking with the experimenter. If you have any concerns, you may ask the experimenter for assistance at any time. 
            </p>
            <p>
                <br>Once the delay has passed, a new category will appear, and you will resume recalling words.
            </p>
        </div>
        <hr>
    <center>
          <button type="button" class="btn btn-primary btn-lg" onClick="return show('container-instructions4', 'container-instructions5');">
          <span class="glyphicon glyphicon-arrow-left"></span> Back 
          </button>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          <button type="button" class="btn btn-primary btn-lg" onClick="return show('container-instructions5_1', 'container-instructions5');">
          <span class="glyphicon glyphicon-arrow-right"></span> Next
          </button>
      </center>
  </div>

  <div id="container-instructions5_1" style="display:none; padding: 50px">
    <h1>Pay attention to the Shape during the Time Delay</h1>
    <hr>
    <div class="instructions well">
        <p>
            During the delay, a cross will appear on the screen. 
        </p>
        <br>
        <div>
            <center>
                <img src="images/time1.png" alt="Instruction Image" style="width:60%">
            </center>
        </div>
        <br>
        <p>
            After a certain period, the cross will randomly change into a shape for a brief duration. 
        </p>
        <p>
            <br>The shape could be a "circle", "triangle", or "square".
        </p>
        <br>
        <p>
            Below is an example of the square shape.
        </p>
        <br>
        <div>
            <center>
                <img src="images/time2.png" alt="Instruction Image" style="width:60%">
            </center>
        </div>
    </div>
    <hr>
    <center>
          <button type="button" class="btn btn-primary btn-lg" onClick="return show('container-instructions5', 'container-instructions5_1');">
          <span class="glyphicon glyphicon-arrow-left"></span> Back 
          </button>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          <button type="button" class="btn btn-primary btn-lg" onClick="return show('container-instructions5_2', 'container-instructions5_1');">
          <span class="glyphicon glyphicon-arrow-right"></span> Next
          </button>
      </center>
  </div>
  <div id="container-instructions5_2" style="display:none; padding: 50px">
    <h1>Answer the question and receive feedback</h1>
    <hr>
    <div class="instructions well">
        <p>
            Pay close attention to the shape because, after it disappears, you will be asked what shape you just see.
        </p>
        <p>
            <br><strong>Press the "Z" key if it is a triangle; "V" key if it is a circle; or "M" key if it is a square on your keyboard. Respond as quickly as possible.</strong>
        </p>
        <br>
        <div>
            <center>
                <img src="images/time3.png" alt="Instruction Image" style="width:60%">
            </center>
        </div>
        <br>
        <p>
            You will see your total score in the center. If you answer correctly, you will receive a "correct" feedback below the total score and no points will be lost.
        </p>
        <br>
        <div>
            <center>
                <img src="images/time5.png" alt="Instruction Image" style="width:60%">
            </center>
        </div>
        <p>
            <br>Conversely, if you answer incorrectly, you will lose points and receive a "wrong" feedback below the score. The number of points lost will be shown next to the score, allowing you to see the total score decreases. The penalty will increase with each consecutive incorrect answer.
        </p>
        <br>
        <div>
            <center>
                <img src="images/time4.png" alt="Instruction Image" style="width:60%">
            </center>
        </div>
        
    </div>
    <hr>
    <center>
          <button type="button" class="btn btn-primary btn-lg" onClick="return show('container-instructions5_1', 'container-instructions5_2');">
          <span class="glyphicon glyphicon-arrow-left"></span> Back 
          </button>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          <button type="button" class="btn btn-primary btn-lg" onClick="return show('container-instructions6', 'container-instructions5_2');">
          <span class="glyphicon glyphicon-arrow-right"></span> Next
          </button>
      </center>
  </div>

  <div id="container-instructions6" style="display:none; padding: 50px">
    <h1>Words examples</h1>
    <hr>
<div class="instructions well">        
    <p>
        As an example, the category might be “TREES”, and in response, you may say “Oak”, “Pine”, “Willow”, “Cedar” and so on.
    </p>

    <p>
        <br>You can repeat words between categories. 
    </p>
    <br>
    <p>
        For example, you might have said “Apple” in response to the category “TREES” and then say that word again in response to the category “TYPES OF PIE”.
    </p>
</div>
<hr>
<center>
      <button type="button" class="btn btn-primary btn-lg" onClick="return show('container-instructions5_2', 'container-instructions6');">
      <span class="glyphicon glyphicon-arrow-left"></span> Back 
      </button>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      <button type="button" class="btn btn-primary btn-lg" onClick="return show('container-instructions7', 'container-instructions6');">
      <span class="glyphicon glyphicon-arrow-right"></span> Next
      </button>
  </center>
</div>

<div id="container-instructions7" style="display:none; padding: 50px">
    <h1>Before Starting</h1>
    <hr>
<div class="instructions well">      
    <p>
        You will now be prompted to enter some basic details before you can begin the experiment. 
    </p>
    <br>
    <p>
        Please use the code <strong>xwx</strong> when prompted to indicate that you have thoroughly read the instructions. Feel free to copy and paste.
    </p>
      </div>
      <hr>
      <center>
            <button type="button" class="btn btn-primary btn-lg" onClick="return show('container-instructions6', 'container-instructions7');">
            <span class="glyphicon glyphicon-arrow-left"></span> Back 
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button type="button" class="btn btn-primary btn-lg" onClick="return show('container-info', 'container-instructions7');">
            <span class="glyphicon glyphicon-arrow-right"></span> Next
            </button>
        </center>
    </div>
    
    
    <!-- Initial Form for basic information 
    **TODO** Update questions accordingly to what kinds of information you require-->
    <div id="container-info" style="display:none">
      <!-- CHANGE INDEX.JS CHECKINFO() IF MODIFIED -->
      <h1>Basic Information</h1>
      <hr>

      <form id='infoform'>
          <div class="row question">

              <div class="questions" id="email">
                  Prolific WorkerID: 
                  <input id="email-input" type="text" name="email" value="">
              </div>
            
              <div class="questions" id="age">
                  Age: 
                  <input id="age" type="text" name="age" value="">
              </div>

              <div class="questions" id="sex">
                  Gender: 
                  <select id="gender" name="gender">
                      <option value=""></option>
                      <option value="male">Male</option>
                      <option value="female">Female</option>
                      <option value="other">Genderqueer/Non-Binary</option>
                  </select>
              </div>

              <div class="questions" id="handedness">
                    Right or left handed: 
                <select id="hand" name="hand">
                    <option value=""></option>
                    <option value="righth">Right</option>
                    <option value="lefth">Left</option>
                    <option value="bothh">Ambidextrous</option>
                </select>
              </div>

            <div class="questions" id="returner">
                Have you done our experiments before? 
                <select id="repeat" name="repeater">
                    <option value=""></option>
                    <option value="yes">Yes</option>
                    <option value="no">No</option>
                    <option value="idk">I don't remember</option>
                </select>
            </div>

            <div class="questions" id="startcode">
                What's the code from the last page (Reread the instructions page if you don't know): 
                <input id="age" type="text" name="age" value="">
            </div>

            <hr>

            <p>
                The following information is requested by the National Institute of Health. You are not <em>required</em>, but are encouraged to complete these.
            </p>
            
            <div class="questions" id="ethnicity">
                Ethnic Origin:  
                <select id="ethnic" name="ethnic">
                    <option value="">
                    <option value="hispanic">Hispanic or Latino</option>
                    <option value="non-hispanic">Not Hispanic or Latino</option>
                </select>
            </div>

            <div class="questions" id="racial origin">
                Racial Origin:  
                <select id="race" name="race">
                    <option value="">
                    <option value="indian/native">American Indian or Alaskan Native</option>
                    <option value="asian">Asian</option>
                    <option value="african-american">Black or African American</option>
                    <option value="pacific-islander">Native Hawaiian or Other Pacific Islander</option>
                    <option value="white">White or Caucasian</option>
                    <option value="multiple">More than one race</option>
                    <option value="unkown">Unknown</option>
                </select>
            </div>

          </div>
        </form>
        <hr>
        <center>
            <button type="button" id="back" value="back" class="btn btn-primary btn-lg previous" onClick="show('container-instructions7', 'container-info');">
            <span class="glyphicon glyphicon-arrow-left"></span> Back 
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button type="button" id="begin" value="next" class="btn btn-primary btn-lg continue" onClick="checkInfo();">
                Begin Experiment <span class="glyphicon glyphicon-arrow-right"></span>
            </button>
        </center>
    </div>

    <!-- Game page -->
    <div id="container-exp" style="display:none">
    </div>

    <!-- Thank you page 
        **TODO** Update the completion code if necessary-->
    <div id="container-not-an-ad" style="display:none">
            <div class="media-left pull-left" href="#">
                    <!-- REPLACE THE LOGO HERE WITH YOUR  UNIVERSITY, LAB, or COMPANY -->
                    <img id="adlogo" src="images/university.png" alt="Lab Logo" />
        </div>
        <div class="media-body">
            <h1>Thanks for your participation!</h1>
            <hr />

            <h2>Now just one more question and you're done!</h2>
            
            <form id="feedbackForm">
                <div class="question" id="feedback">
                    Are you a native English speaker?
                    <input id="feedback" type="text" name="feedback" value="">
                </div>
            </form>
            <center>
                <!-- <h1><b><em>Please enter fullscreen mode before you begin.</em></b></h1> //only for safari
                <hr> -->
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <button type="button" id="end" value="final" onClick="saveFeedback();">
                    Submit 
                </button>
            </center>
            <h2>If you do not receive compensation in 5 business days please email ivrylab@gmail.com.</h2>
            <h2>Your completion code is: "BB922D14".</h2>
            <h2>You have a wonderful life now.</h2>
        </div>
    </div>

    <!-- Ended early page -->
    <div id="container-failed" style="display:none">
        <div class="media-left pull-left" href="#">
                <!-- **TODO** REPLACE THE LOGO HERE WITH YOUR  UNIVERSITY, LAB, or COMPANY -->
                <img id="adlogo" src="images/university.png" alt="Lab Logo" />
        </div>
        <div class="media-body">
                    <h1>Oh no!</h1>
                    <hr />
                    <p>If you are seeing this page it means you did not pass an attention or understanding task.</p>
                    <p>This task requires your full attention, thus we kindly ask you to exit and return this HIT.</p>
                    <p>We're sorry for this inconvenience.</p>
                    <!--
                    <h2>You have a wonderful life now.</h2>
                    -->
        </div>
    </div>

    <!-- Final Page -->
    <div id="final-page" style="display:none">
        <div class="media-left pull-left" href="#">
                <!-- **TODO** REPLACE THE LOGO HERE WITH YOUR  UNIVERSITY, LAB, or COMPANY -->
                <img id="adlogo" src="images/university.png" alt="Lab Logo" />
        </div>
        <div class="media-body">
            <button onclick="show('container-not-an-ad', 'container-exp')">Switch Pages</button>
            <h1>Your responses has been saved, thank you!</h1>
            <hr />
        </div>
    </div>
   </main>
  </body>

  <script src="static/lib/jquery-min.js"></script>
  <script src="static/lib/bootstrap.min.js"></script>
  <script src="static/lib/d3.v3.min.js"></script>
  <script src="static/lib/underscore-min.js"></script>
  <script src="static/lib/backbone-min.js"></script>
  <script src="index 4 3.js"></script>